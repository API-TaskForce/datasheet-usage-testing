/**
 * Global styles using Tailwind @layer with custom color palette
 * All component styles are defined as reusable Tailwind classes
 * Layout: Base → Components → Utilities
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   BASE STYLES
   ============================================ */

@layer base {
  * {
    @apply m-0 p-0 box-border;
  }

  html,
  body,
  #app {
    @apply h-full w-full;
  }

  body {
    @apply min-h-screen w-screen bg-bg;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  a {
    @apply font-medium transition-colors text-info hover:text-accent;
  }
}

/* ============================================
   BUTTONS
   ============================================ */

@layer components {

  .btn {
    @apply w-auto flex flex-row gap-2 inline-flex items-center justify-center rounded-xl font-medium transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed border border-solid;
  }

  .btn-primary {
    @apply text-accent border-accent hover:text-white hover:bg-accent;
  }

  .btn-secondary {
    @apply text-secondary border-secondary hover:text-white hover:bg-secondary;
  }

  .btn-danger {
    @apply text-error border-error hover:text-white hover:bg-error;
  }

  .btn-success {
    @apply text-success border-success hover:text-white hover:bg-success;
  }

  .btn-ghost {
    @apply border-0 text-text hover:bg-white;
  }
}

/* ============================================
   FORMS
   ============================================ */

@layer components {
  .form-label {
    @apply block text-sm font-medium mb-2 text-text;
  }

  .form-label.muted {
    @apply text-text-muted;
  }

  .form-input,
  .form-select,
  .form-textarea {
    @apply w-full h-fit px-3 py-2 rounded-xl text-base border border-gray-200 bg-white text-text transition-colors;
    max-height: 350px;
    max-width: 100%;
  }

  .form-textarea {
    @apply resize-y font-mono;
  }

  .form-input:focus,
  .form-select:focus,
  .form-textarea:focus {
    @apply outline-none border-secondary;
  }

  .form-group {
    @apply w-full;
  }
}

/* ============================================
   BADGES
   ============================================ */

@layer components {
  .badge {
    @apply inline-block px-3 py-1 rounded-full text-sm font-semibold border;
  }

  .badge-success {
    @apply text-success border-success;
  }

  .badge-error {
    @apply text-error border-error;
  }

  .badge-warning {
    @apply text-warning border-warning;
  }

  .badge-info {
    @apply text-info border-info;
  }

  .badge-accent {
    @apply text-accent border-accent;
  }
}

/* ============================================
   ALERTS
   ============================================ */

@layer components {
  .alert {
    @apply p-4 rounded-md text-sm border-l-4;
  }

  .alert-error {
    @apply bg-opacity-10 text-error border-error;
    background-color: rgb(190 29 55 / 10%);
  }

  .alert-success {
    @apply bg-opacity-10 text-success border-success;
    background-color: rgb(0 124 53 / 10%);
  }

  .alert-warning {
    @apply bg-opacity-10 text-warning border-warning;
    background-color: rgb(199 129 0 / 10%);
  }

  .alert-info {
    @apply bg-opacity-10 text-info border-info;
    background-color: rgb(95 146 197 / 10%);
  }
}

/* ============================================
   LAYOUT & SPACING
   ============================================ */

@layer components {
  .section-grid {
    @apply flex flex-col gap-6;
  }

  .section-grid-cols-2 {
    @apply flex flex-col lg:flex-row gap-6;
  }

  .section-card {
    @apply flex flex-col rounded-lg border border-gray-200 bg-white shadow-sm p-4;
  }

  .section-card-header {
    @apply flex flex-row w-full mb-6 pb-4 border-b border-gray-500;
  }

  .container-max-width {
    @apply w-full;
    max-width: 1200px;
    margin: 0 auto;
  }

  .flex-between {
    @apply flex justify-between items-center;
  }

  .flex-col-gap {
    @apply flex flex-col gap-6;
  }

  .grid-cols-3 {
    @apply grid gap-4;
    grid-template-columns: repeat(3, 1fr);
  }
}

/* ============================================
   CONSOLE & CODE
   ============================================ */

@layer components {
  .console-panel {
    @apply flex flex-col h-full border border-gray-200 rounded-lg p-4 overflow-y-auto bg-gray-800;
    font-family: SFMono-Regular, Menlo, Monaco, 'Roboto Mono', 'Courier New', monospace;
    font-size: 0.875rem;
    max-height: 600px;
  }

  .console-line-req {
    @apply mb-2 text-gray-300;
  }

  .console-line-res {
    @apply mb-2 text-green-500 font-bold bg-gray-800 border border-green-500 p-2 rounded-lg;
  }

  .console-line-error {
    @apply mb-2 text-red-400 font-bold bg-gray-800 border border-red-400 p-2 rounded-lg;
  }

  .console-line-info {
    @apply mb-2 text-blue-400 font-bold bg-gray-800 border border-blue-400 p-2 rounded-lg;
  }

  .console-line-success {
    @apply mb-2 text-green-400 font-bold bg-gray-800 border border-green-400 p-2 rounded-lg;
  }

  .code-block {
    @apply overflow-y-auto rounded-md p-4 border border-gray-200;
    background: #f6f8fa;
    font-family: monospace;
    font-size: 0.875rem;
    color: #24292e;
    white-space: pre-wrap;
    word-break: break-word;
    line-height: 1.5;
  }
}

/* ============================================
   HEADER & TITLES
   ============================================ */

@layer components {
  .header-subtitle {
    @apply text-sm text-gray-600;
    margin-top: 0.25rem;
  }

  .stat-title {
    @apply text-sm text-gray-600 mb-2;
  }

  .stat-value {
    @apply text-4xl font-bold text-text;
  }

  .stat-label {
    @apply text-xs text-gray-600;
  }
}

/* ============================================
   TAB NAVIGATION
   ============================================ */

@layer components {
  .tabs-container {
    @apply flex border-b bg-white;
  }

  .tab-button {
    @apply px-6 py-4 border-b-2 border-transparent cursor-pointer font-medium transition-all bg-gray-100 text-gray-600;
  }

  .tab-button.active {
    @apply border-b-2 border-blue-600 text-blue-600 bg-white;
  }

  .tab-button:hover:not(.active) {
    @apply bg-white;
  }
}

/* ============================================
   STAT & INFO CARDS
   ============================================ */

@layer components {
  .stat-card {
    @apply p-4 rounded-md text-center;
    background: #f5f9ff;
    border: 2px solid #6366f1;
  }

  .stat-card.success {
    background: #f0f9f4;
    border-color: #22863a;
  }

  .stat-card.error {
    background: #fdeaea;
    border-color: #cb2431;
  }

  .stat-card.info {
    background: #f0f6fc;
    border-color: #0366d6;
  }
}

/* ============================================
   FORM ELEMENTS
   ============================================ */

@layer components {
  .form-row {
    @apply flex flex-row justify-between items-center gap-2 mb-4 border-b border-gray-200 py-4;
  }

  .form-input-small {
    @apply px-2 py-1 rounded text-sm border border-gray-200 bg-white text-text;
  }

  .form-input-small:focus {
    @apply outline-none border-secondary;
  }

  .form-group-col {
    @apply flex flex-col gap-6;
  }

  .form-group-row {
    @apply flex gap-4;
  }
}

/* ============================================
   LIST & ITEMS
   ============================================ */

@layer components {
  .list-container {
    @apply border border-gray-200 rounded-md overflow-y-auto bg-gray-100;
  }

  .list-item {
    @apply border-b border-gray-200 flex justify-between items-center text-sm cursor-pointer transition-colors;
  }

  .list-item:last-child {
    @apply border-b-0;
  }

  .list-item:hover {
    @apply bg-blue-50;
  }

  .list-item.selected {
    @apply bg-blue-50;
  }

  .list-item-label {
    @apply text-sm text-gray-600;
  }

  .list-item-value {
    @apply text-sm font-bold text-blue-600;
  }
}

/* ============================================
   ANIMATIONS
   ============================================ */

@layer components {
  @keyframes slideIn {
    from {
      transform: translateX(400px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slideOut {
    from {
      transform: translateX(0);
      opacity: 1;
    }
    to {
      transform: translateX(400px);
      opacity: 0;
    }
  }

  .toast {
    animation: slideIn 0.3s ease-out;
    @apply flex bg-white flex-row w-auto items-center gap-2 p-2 rounded-md shadow-lg shadow-gray-400 text-sm w-48 border-2 border-solid;
  }

  .toast.success {
    @apply border-green-700 text-green-700;
  }

  .toast.error {
    @apply border-red-700 text-red-700;
  }

  .toast.warning {
    @apply border-yellow-400 text-yellow-400;
  }

  .toast.info {
    @apply border-blue-600 text-blue-600;
  }

  .toast-icon {
    @apply font-bold text-base;
  }

  .toast-message {
    @apply flex-1;
  }

  .toast-close {
    @apply bg-none border-0 text-current cursor-pointer p-0 opacity-70 transition-opacity hover:opacity-100 text-xl;
  }

  .toast.exit {
    animation: slideOut 0.3s ease-in forwards;
  }
}

/* ============================================
   SIDEBAR & LAYOUT
   ============================================ */

@layer components {
  .main-layout {
    @apply flex h-screen w-screen overflow-hidden;
  }

  .main-content {
    @apply flex-1 overflow-auto transition-all duration-300 bg-bg;
  }

  .main-content.sidebar-open {
    @apply ml-64;
  }

  .main-content.sidebar-closed {
    @apply ml-20;
  }

  /* Sidebar */
  .sidebar {
    @apply w-64 bg-gray-700 left-0 top-0 h-screen text-white transition-all duration-300 flex flex-col z-40;
  }

  .sidebar.sidebar-closed {
    @apply w-20;
  }

  /* Sidebar header */
  .sidebar-header {
    @apply flex items-center justify-center gap-3 p-4 border-b border-gray-700;
  }

  .sidebar-logo-btn {
    @apply bg-none border-0 p-0 cursor-pointer focus:outline-none transition-transform hover:scale-110;
  }

  .sidebar-logo {
    @apply w-12 h-12 rounded-lg flex items-center justify-center font-bold text-lg text-white;
  }

  .sidebar-logo-text {
    @apply font-bold text-white;
  }

  .sidebar-logo-label {
    @apply font-bold text-lg text-white transition-opacity duration-300;
  }

  .sidebar-logo-label.hidden {
    @apply opacity-0 w-0 overflow-hidden;
  }

  /* Sidebar navigation */
  .sidebar-nav {
    @apply flex-1 py-6 px-2 space-y-2;
  }

  .sidebar-nav-item {
    @apply w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium text-sm text-white bg-transparent cursor-pointer transition-all border-2 border-white border-opacity-0 hover:border-opacity-100;
  }

  .sidebar-nav-item-active {
    @apply bg-opacity-20 bg-white;
  }

  .sidebar-nav-icon {
    @apply flex-shrink-0;
  }

  .sidebar-nav-label {
    @apply transition-opacity duration-300;
  }

  .sidebar-nav-label.hidden {
    @apply opacity-0 w-0 overflow-hidden;
  }

  /* Sidebar footer */
  .sidebar-footer {
    @apply p-4 border-t border-white text-center text-xs text-gray-300;
  }

  .sidebar-version {
    @apply transition-opacity duration-300 text-white;
  }

  .sidebar-version.hidden {
    @apply opacity-0 w-0 overflow-hidden;
  }

  /* Mobile toggle button */
  .sidebar-toggle {
    @apply hidden fixed bottom-6 right-6 z-50 p-3 rounded-lg border-0 cursor-pointer transition-all bg-blue-500 text-white hover:bg-blue-600 md:hidden;
  }

  /* Mobile overlay */
  .sidebar-overlay {
    @apply fixed inset-0 bg-black/50 z-30 md:hidden;
  }

  /* Badges */
  .badge {
    @apply px-4 py-1 rounded-full text-xs font-semibold border-none;
  }

  .badge-success {
    @apply bg-green-100 text-green-800;
  }

  .badge-danger {
    @apply bg-red-100 text-red-800;
  }

  .badge-warning {
    @apply bg-yellow-100 text-yellow-800;
  }

  .badge-info {
    @apply bg-blue-100 text-blue-800;
  }

  .badge-secondary {
    @apply bg-gray-100 text-gray-800;
  }

  .badge-success {
    @apply bg-green-100 text-green-800;
  }

  /* Mobile responsive */
  @media (max-width: 768px) {
    .sidebar {
      @apply -translate-x-full;
    }

    .sidebar.sidebar-open {
      @apply translate-x-0;
    }

    .main-content {
      @apply ml-0;
    }

    .sidebar-toggle {
      @apply flex;
    }
  }
}

/* ============================================
   MODAL STYLES
   ============================================ */

@layer components {
  .modal-overlay {
    @apply fixed inset-0 flex items-center justify-center z-50;
    background: rgba(0, 0, 0, 0.5);
  }

  .modal-panel {
    @apply bg-transparent rounded-lg max-h-96 overflow-hidden flex flex-col;
    width: 90%;
    max-width: 90vw;
    max-height: 90vh;
    height: 100%;
  }
}

